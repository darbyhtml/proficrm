# –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

## üîí –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. Security.txt —Ñ–∞–π–ª
**URL**: `https://–≤–∞—à-–¥–æ–º–µ–Ω/.well-known/security.txt`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
- [ ] –§–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Email –≤ —Ñ–∞–π–ª–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–µ–º—É (`SECURITY_CONTACT_EMAIL` –∏–∑ `.env`)
- [ ] –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ –≥–æ–¥ –≤–ø–µ—Ä–µ–¥
- [ ] –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç RFC 9116

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω/.well-known/security.txt
```
66Hsfkj2-fsqe2
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```
Contact: mailto:–≤–∞—à-email@–¥–æ–º–µ–Ω.ru
Expires: 2026-XX-XXTXX:XX:XX.000Z
Preferred-Languages: ru, en
Canonical: https://–≤–∞—à-–¥–æ–º–µ–Ω/.well-known/security.txt
```

---

### 2. Content Security Policy (CSP) –∑–∞–≥–æ–ª–æ–≤–æ–∫
**URL**: –õ—é–±–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
- [ ] –ó–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Security-Policy` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞
- [ ] CSP –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞ (–Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞)
- [ ] Tailwind CSS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Network**
3. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Headers**
5. –ù–∞–π–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Security-Policy`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```
Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self';
```

**–ï—Å–ª–∏ CSP –±–ª–æ–∫–∏—Ä—É–µ—Ç —á—Ç–æ-—Ç–æ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console) –Ω–∞ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞ "Refused to load..."
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ `.env`:
  ```bash
  CSP_SCRIPT_SRC='self' 'unsafe-inline' https://cdn.tailwindcss.com https://–¥—Ä—É–≥–æ–π-–∏—Å—Ç–æ—á–Ω–∏–∫.com
  ```

---

### 3. Permissions-Policy –∑–∞–≥–æ–ª–æ–≤–æ–∫
**URL**: –õ—é–±–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
- [ ] –ó–∞–≥–æ–ª–æ–≤–æ–∫ `Permissions-Policy` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ CSP (F12 ‚Üí Network ‚Üí Headers)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```
Permissions-Policy: geolocation=(), microphone=(), camera=(), payment=(), usb=()
```

---

### 4. Robots.txt
**URL**: `https://–≤–∞—à-–¥–æ–º–µ–Ω/robots.txt`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
- [ ] –§–∞–π–ª –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –°–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–µ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (`Disallow: /`)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω/robots.txt
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
```
User-agent: *
Disallow: /

# Internal CRM system - indexing prohibited
```

---

### 5. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (MIME —Ç–∏–ø—ã)
**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
- [ ] –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ —Å –ø–æ–¥–¥–µ–ª–∞–Ω–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, .exe –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –≤ .pdf) —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç —Ñ–∞–π–ª
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**:
1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º MIME —Ç–∏–ø–æ–º
2. –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É: "–¢–∏–ø —Ñ–∞–π–ª–∞ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é"

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏**:
- ‚úÖ PDF —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .pdf ‚Üí –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
- ‚ùå EXE —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .pdf ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω
- ‚ùå –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .jpg ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ VDS

### 1. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
SECURITY_CONTACT_EMAIL=–≤–∞—à-email@–¥–æ–º–µ–Ω.ru
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
cd /opt/proficrm
docker-compose restart web
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞:
```bash
systemctl restart –≤–∞—à-—Å–µ—Ä–≤–∏—Å
```

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: CSP –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ `.env`:
   ```bash
   CSP_SCRIPT_SRC='self' 'unsafe-inline' https://cdn.tailwindcss.com https://–¥—Ä—É–≥–æ–π-–∏—Å—Ç–æ—á–Ω–∏–∫.com
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: Security.txt –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π email
**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `SECURITY_CONTACT_EMAIL` —É–∫–∞–∑–∞–Ω –≤ `.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è MIME –≤–∞–ª–∏–¥–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Django –Ω–∞ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —É–±–µ–¥–∏—Ç–µ—Å—å:
- [ ] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] Security.txt —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à email
- [ ] CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç (—Ç–æ–ª—å–∫–æ –≤ production, –Ω–µ –≤ DEBUG —Ä–µ–∂–∏–º–µ)

---

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Django:
   ```bash
   docker-compose logs web
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   docker-compose exec web env | grep SECURITY
   ```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DJANGO_DEBUG=0` –≤ production (CSP —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ production)

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ middleware –¥–æ–±–∞–≤–ª–µ–Ω –≤ `MIDDLEWARE`:
   ```python
   'crm.middleware.SecurityHeadersMiddleware',
   ```

