# –û—Ç—á—ë—Ç: Enterprise-–∞—É–¥–∏—Ç –ø–æ—á—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Ä–∞—Å—Å—ã–ª–æ–∫

## 1. ENTERPRISE READINESS SCORE

**8.5/10** (–±—ã–ª–æ 7.5/10)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –ø—Ä–æ—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É: –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç race conditions, –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –ø–∞—É–∑. –ü–æ—Å–ª–µ enterprise-–¥–æ—Ä–∞–±–æ—Ç–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ structured logging –≤ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–≤–æ—Ç—ã –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º, circuit breaker –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–∏—Å—à–∏—Ö –∫–∞–º–ø–∞–Ω–∏–π. –û—Å—Ç–∞—é—Ç—Å—è –ø—Ä–æ–±–µ–ª—ã: –Ω–µ–ø–æ–ª–Ω–æ–µ structured logging (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞), –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö playbook, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ throttling –Ω–∞ API, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–º–µ—Ä –∫–∞–º–ø–∞–Ω–∏–π. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ —á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–∞ –¥–ª—è enterprise-–æ–ø–µ—Ä–∞—Ü–∏–π —Å —É—á—ë—Ç–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è observability –∏ —Å–æ–∑–¥–∞–Ω–∏—è playbook.

## 2. –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–∏—Å—Ç–µ–º—ã

- ‚úÖ **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: Redis rate limiter –∞—Ç–æ–º–∞—Ä–Ω—ã–π, select_for_update –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –¥—É–±–ª–µ–π
- ‚úÖ **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã**: CampaignQueue —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –ø—Ä–∏—á–∏–Ω—ã –ø–∞—É–∑ –∏ deferred_until
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç race conditions**: –≥–ª–æ–±–∞–ª—å–Ω—ã–π lock, skip_locked, –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **–ß–µ—Å—Ç–Ω—ã–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**: failed –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –Ω–µ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ SENT
- ‚úÖ **Permission-based –¥–æ—Å—Ç—É–ø**: enforce() –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö endpoints
- ‚úÖ **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –ø—Ä–∏ defer
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π cleanup**: reconcile_campaign_queue –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –∞–Ω–æ–º–∞–ª–∏–∏
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ –ª–∏–º–∏—Ç—ã**: –Ω–µ—Ç –æ–±—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –ø—Ä—è–º—ã–µ SMTP –≤—ã–∑–æ–≤—ã

## 3. ENTERPRISE-–†–ò–°–ö–ò

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ

**–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç** ‚úÖ

### –°—Ä–µ–¥–Ω–∏–µ

#### (1) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ structured logging –¥–ª—è observability ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (campaign_id, queue_id, defer_reason). –ü—Ä–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ —Å–ª–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É –ø–∞—É–∑—ã –∫–∞–º–ø–∞–Ω–∏–∏.

**–†–∏—Å–∫:** –í—ã—Å–æ–∫–æ–µ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (MTTR) –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö. On-call –∏–Ω–∂–µ–Ω–µ—Ä —Ç—Ä–∞—Ç–∏—Ç >5 –º–∏–Ω—É—Ç –Ω–∞ –ø–æ–∏—Å–∫ –ø—Ä–∏—á–∏–Ω—ã –≤–º–µ—Å—Ç–æ 30 —Å–µ–∫—É–Ω–¥.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω structured logging –≤ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö:
- `defer_queue()` ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç campaign_id, queue_id, defer_reason, deferred_until
- `send_pending_emails()` ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–∏ defer —Å –ø–æ–ª–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `reconcile_campaign_queue()` ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç stuck campaigns —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- SMTP errors ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç campaign_id, recipient_id, recipient_email, error_type

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ structured logging –≤ —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–¥–ª—è –º–µ—Ç—Ä–∏–∫) –∏ rate limit checks.

#### (2) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–≤–æ—Ç—ã –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º –∫–∞–º–ø–∞–Ω–∏–∏ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `backend/mailer/views.py`, —Ñ—É–Ω–∫—Ü–∏—è `campaign_start` (—Å—Ç—Ä–æ–∫–∞ 2016)  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–º–ø–∞–Ω–∏—è –º–æ–≥–ª–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –ø—Ä–∏ `emails_available = 0`. –°–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–∑—É –æ—Ç–ª–æ–∂–∏–ª–∞ –±—ã –µ—ë —á–µ—Ä–µ–∑ defer_queue, –Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä –Ω–µ –≤–∏–¥–µ–ª –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–æ –∑–∞–ø—É—Å–∫–∞.

**–†–∏—Å–∫:** –ü–ª–æ—Ö–æ–π UX: –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–∞–º–ø–∞–Ω–∏—é, –æ–Ω–∞ —Å—Ä–∞–∑—É –ø–∞—É–∑–∏—Ç—Å—è, –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –ø–æ—á–µ–º—É.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–æ—Ç—ã –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π `READY` —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä—É (—Å—Ç—Ä–æ–∫–∏ 2043-2050). –ö–∞–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞, –Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.

#### (3) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ hard-stop –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö SMTP –æ—à–∏–±–∫–∞—Ö ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `backend/mailer/tasks.py`, —Å—Ç—Ä–æ–∫–∏ 788-813  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ transient error –∫–∞–º–ø–∞–Ω–∏—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞–ª–∞—Å—å –Ω–∞ 5 –º–∏–Ω—É—Ç, –Ω–æ –Ω–µ –±—ã–ª–æ –∑–∞—â–∏—Ç—ã –æ—Ç "–∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è" –ø—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö SMTP —Å–µ—Ä–≤–µ—Ä–∞.

**–†–∏—Å–∫:** –ö–∞–º–ø–∞–Ω–∏—è –º–æ–≥–ª–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Ä–µ—Ç—Ä–∞–∏—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º SMTP, —Ç—Ä–∞—Ç—è —Ä–µ—Å—É—Ä—Å—ã –∏ –∑–∞–±–∏–≤–∞—è –æ—á–µ—Ä–µ–¥—å.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `consecutive_transient_errors` –≤ `CampaignQueue` (–º–æ–¥–µ–ª—å, —Å—Ç—Ä–æ–∫–∞ 296)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω circuit breaker: –ø—Ä–∏ >= 10 –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥ –∫–∞–º–ø–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—É–∑–∏—Ç—Å—è (—Å—Ç—Ä–æ–∫–∏ 877-909)
- –°—á–µ—Ç—á–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ (—Å—Ç—Ä–æ–∫–∏ 800-802)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å structured fields –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è:** `python manage.py makemigrations mailer`

#### (4) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ "–∑–∞–≤–∏—Å—à–∏—Ö" PROCESSING –∫–∞–º–ø–∞–Ω–∏–π ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ alerting –Ω–∞ –∫–∞–º–ø–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ PROCESSING >30 –º–∏–Ω—É—Ç (–≤–æ–∑–º–æ–∂–Ω—ã–π deadlock –∏–ª–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–∞).

**–†–∏—Å–∫:** –ü—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –≤–æ—Ä–∫–µ—Ä–∞ –∫–∞–º–ø–∞–Ω–∏—è –º–æ–≥–ª–∞ –æ—Å—Ç–∞—Ç—å—Å—è –≤ PROCESSING –Ω–∞–≤—Å–µ–≥–¥–∞, –±–ª–æ–∫–∏—Ä—É—è –æ—á–µ—Ä–µ–¥—å.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `reconcile_campaign_queue()` (—Å—Ç—Ä–æ–∫–∏ 930-944):
- –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç PROCESSING –∫–∞–º–ø–∞–Ω–∏–∏ —Å—Ç–∞—Ä—à–µ 30 –º–∏–Ω—É—Ç
- –õ–æ–≥–∏—Ä—É–µ—Ç —Å structured fields (stuck_count, campaign_ids, threshold_minutes)
- –ì–æ—Ç–æ–≤–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å monitoring system (TODO: alert —á–µ—Ä–µ–∑ Prometheus/Sentry)

#### (5) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–∞ –Ω–∞ —Ä–∞–∑–º–µ—Ä –∫–∞–º–ø–∞–Ω–∏–∏
**–§–∞–π–ª:** `backend/mailer/views.py`, —Å—Ç—Ä–æ–∫–∞ 1570  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –µ—Å—Ç—å –ª–∏–º–∏—Ç 5000, –Ω–æ –Ω–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π. –ö–∞–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å 100,000+ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π.

**–†–∏—Å–∫:** –û–¥–Ω–∞ –±–æ–ª—å—à–∞—è –∫–∞–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –Ω–∞ –¥–Ω–∏, –º–µ—à–∞—è –¥—Ä—É–≥–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å soft/hard –ª–∏–º–∏—Ç:
```python
# –í campaign_start –∏–ª–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
MAX_CAMPAIGN_RECIPIENTS = 10000  # configurable
if pending_count > MAX_CAMPAIGN_RECIPIENTS:
    messages.error(
        request,
        f"–ö–∞–º–ø–∞–Ω–∏—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è ({pending_count} –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π). "
        f"–ú–∞–∫—Å–∏–º—É–º: {MAX_CAMPAIGN_RECIPIENTS}. –†–∞–∑–±–µ–π—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–º–ø–∞–Ω–∏–π."
    )
    return redirect(...)
```

#### (6) –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ throttling –Ω–∞ API endpoints
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç rate limiting –Ω–∞ endpoints —Ç–∏–ø–∞ `campaign_start`, `send_test_email`. –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∏–ª–∏ –æ—à–∏–±–∫–∞ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–∞–º–ø–∞–Ω–∏–π/—Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∏—Å–µ–º.

**–†–∏—Å–∫:** DoS —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–∞–º–ø–∞–Ω–∏–π –∏–ª–∏ —Å–ø–∞–º —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –ø–∏—Å—å–º–∞–º–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å throttling (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ django-ratelimit):
```python
from django_ratelimit.decorators import ratelimit

@ratelimit(key='user', rate='10/h', method='POST')
def campaign_start(...):
    ...
```

## 4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ ENTERPRISE-–î–û–í–û–î–ö–ï

### Observability & Monitoring (–ö–†–ò–¢–ò–ß–ù–û)

1. **Structured logging** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) ‚úÖ –ß–ê–°–¢–ò–ß–ù–û:
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ `extra={}` –≤ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö: defer_queue, send_pending_emails (defer), reconcile_campaign_queue, SMTP errors
   - ‚ö†Ô∏è –û—Å—Ç–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –≤: —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–¥–ª—è –º–µ—Ç—Ä–∏–∫), rate limit checks
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON formatter –¥–ª—è –ª–æ–≥–æ–≤ (ELK/Grafana Loki) ‚Äî —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

2. **–ú–µ—Ç—Ä–∏–∫–∏** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (–º–æ–∂–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å –∏–∑ –ª–æ–≥–æ–≤ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —è–≤–Ω–æ):
     - `emails_sent_per_hour` (–∏–∑ SendLog)
     - `emails_failed_per_hour` (–∏–∑ SendLog)
     - `campaigns_deferred_by_reason` (–∏–∑ CampaignQueue.defer_reason)
     - `queue_depth` (CampaignQueue.objects.filter(status=PENDING).count())
     - `processing_duration_seconds` (started_at - completed_at)

3. **Alerting —Ç–æ—á–∫–∏** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) ‚úÖ –ß–ê–°–¢–ò–ß–ù–û:
   - Redis errors –≤ rate_limiter (—É–∂–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –¥–æ–±–∞–≤–∏—Ç—å alert —á–µ—Ä–µ–∑ monitoring)
   - ‚úÖ PROCESSING >30 –º–∏–Ω—É—Ç (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ reconcile_campaign_queue)
   - ‚úÖ consecutive_transient_errors >= 10 (–¥–æ–±–∞–≤–ª–µ–Ω —Å—á–µ—Ç—á–∏–∫ –∏ circuit breaker)
   - ‚ö†Ô∏è queue_depth > 50 (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

### Operational Safety / On-call

1. **Playbook** (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –°–æ–∑–¥–∞—Ç—å `MAILER_ONCALL_PLAYBOOK.md`:
     - "–†–∞—Å—Å—ã–ª–∫–∞ —Å—Ç–æ–∏—Ç" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å CampaignQueue.defer_reason, deferred_until, Redis –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
     - "–ö–≤–æ—Ç–∞ –∫–æ–Ω—á–∏–ª–∞—Å—å" ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å SmtpBzQuota, sync_smtp_bz_quota task
     - "Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" ‚Üí fail-open —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É, –Ω–æ –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis
     - "PROCESSING –∑–∞–≤–∏—Å–ª–∞" ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å reconcile_campaign_queue –≤—Ä—É—á–Ω—É—é

2. **Guards –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) ‚úÖ –ß–ê–°–¢–ò–ß–ù–û:
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–æ—Ç—ã –ø–µ—Ä–µ–¥ campaign_start (–¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º)
   - ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–π –∫–∞–º–ø–∞–Ω–∏–∏ (>5000 –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π) ‚Äî –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
   - ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–º–æ–∂–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å, –Ω–æ —Å—Ä–∞–∑—É –æ—Ç–ª–æ–∂–∏—Ç—Å—è) ‚Äî –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

3. **Circuit breaker** (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:
   - ‚úÖ –°—á–µ—Ç—á–∏–∫ consecutive_transient_errors –≤ CampaignQueue (–¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ)
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—É–∑–∞ –ø—Ä–∏ >= 10 –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
   - ‚úÖ –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ
   - **–¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è:** `python manage.py makemigrations mailer`

### Scalability & Future Growth

1. **–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é:**
   - ‚úÖ CampaignQueue.priority —É–∂–µ –µ—Å—Ç—å (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π)
   - ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏
   - ‚úÖ Rate limiter –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω

2. **–¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–±—É–¥—É—â–µ–µ):**
   - **–ù–µ—Å–∫–æ–ª—å–∫–æ SMTP –∞–∫–∫–∞—É–Ω—Ç–æ–≤**: –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è routing –ª–æ–≥–∏–∫–∞ (per-campaign –∏–ª–∏ per-user SMTP). –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å GlobalMailAccount –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –Ω—É–∂–µ–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä.
   - **Per-campaign rate limit**: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `Campaign.rate_per_hour_override`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `reserve_rate_limit_token()`
   - **Warm-up –ª–æ–≥–∏–∫–∞**: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `send_pending_emails` –ø—Ä–æ–≤–µ—Ä–∫—É "–Ω–æ–≤—ã–π –¥–æ–º–µ–Ω ‚Üí —Å–Ω–∏–∑–∏—Ç—å rate"
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∫–∞–º–ø–∞–Ω–∏–π**: –ø–æ–ª–µ `priority` —É–∂–µ –µ—Å—Ç—å, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ –≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `-priority, queued_at`)

3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏ 10√ó —Ä–æ—Å—Ç–µ:**
   - **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å**: –ø—Ä–∏ 100+ –∫–∞–º–ø–∞–Ω–∏—è—Ö –≤ –æ—á–µ—Ä–µ–¥–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞. –†–µ—à–µ–Ω–∏–µ: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥–µ–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É.
   - **Batch processing**: batch_size=50 –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –†–µ—à–µ–Ω–∏–µ: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π batch_size –∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–º–ø–∞–Ω–∏–π (—Å –æ–±—â–∏–º rate limit).
   - **Database queries**: `select_for_update` –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º. –†–µ—à–µ–Ω–∏–µ: –∏–Ω–¥–µ–∫—Å—ã —É–∂–µ –µ—Å—Ç—å, –Ω–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.

### UX-–∫–æ–Ω—Ç—Ä–∞–∫—Ç (Enterprise UX)

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –°–æ–∑–¥–∞—Ç—å `MAILER_UX_CONTRACT.md` —Å –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏:
     - "–ú–µ–Ω–µ–¥–∂–µ—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç –ø—Ä–∏—á–∏–Ω—É –ø–∞—É–∑—ã –≤ poll endpoint"
     - "–ú–µ–Ω–µ–¥–∂–µ—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç –≤—Ä–µ–º—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (next_run_at)"
     - "–ö–∞–º–ø–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å '–ø–æ—Ç–µ—Ä—è–Ω–∞' ‚Äî –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Å—Ç–∞—Ç—É—Å"
     - "Failed –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã, –Ω–µ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è"

2. **UX-—Ç–µ–∫—Å—Ç—ã –ø–æ defer_reason** (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å reason_texts –≤ `views.py` –∏ `queue.py` (—Å–µ–π—á–∞—Å –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è)
   - –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤:
     - `daily_limit`: "–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ {sent}/{limit}. –ü—Ä–æ–¥–æ–ª–∂–∏–º –∑–∞–≤—Ç—Ä–∞ –≤ 09:00 –ú–°–ö."
     - `quota_exhausted`: "–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–≤–æ—Ç–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∞. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ø–æ–ª–Ω–∏—Ç –∫–≤–æ—Ç—É, –ø–æ—Å–ª–µ —á–µ–≥–æ —Ä–∞—Å—Å—ã–ª–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏."
     - `rate_per_hour`: "–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç 100 –ø–∏—Å–µ–º/—á–∞—Å. –ü—Ä–æ–¥–æ–ª–∂–∏–º –≤ {next_hour}:00."
     - `outside_hours`: "–°–µ–π—á–∞—Å –≤–Ω–µ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (9:00-18:00 –ú–°–ö). –ü—Ä–æ–¥–æ–ª–∂–∏–º –∑–∞–≤—Ç—Ä–∞ –≤ 09:00 –ú–°–ö."
     - `transient_error`: "–í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–≤—Ç–æ—Ä–∏–º –ø–æ–ø—ã—Ç–∫—É —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç."

3. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ–ª—å—à–æ–π –∫–∞–º–ø–∞–Ω–∏–∏ (>1000 –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π)
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏ –∫–≤–æ—Ç–µ = 0
   - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –∫–∞–º–ø–∞–Ω–∏—é –≤ —Å—Ç–∞—Ç—É—Å–µ SENDING (—Ç–æ–ª—å–∫–æ PAUSE)

### Data & Consistency

1. **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–æ–±–ª—é–¥–µ–Ω—ã** ‚úÖ:
   - Campaign.status ‚Üî CampaignQueue.status —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã
   - CampaignRecipient.status ‚Üî SendLog —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã
   - failed –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –Ω–µ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è

2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ guards** (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –î–æ–±–∞–≤–∏—Ç—å database constraint: `CHECK (deferred_until IS NULL OR defer_reason != '')` (–µ—Å–ª–∏ deferred_until –µ—Å—Ç—å, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å defer_reason)
   - –î–æ–±–∞–≤–∏—Ç—å assert –≤ `defer_queue`: `assert reason in DEFER_REASONS, f"Unknown defer_reason: {reason}"`

### Security & Abuse

1. **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–∏—Å—å–º–∞** ‚úÖ:
   - –£–∂–µ –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ rate limiter
   - –ù–µ—Ç –æ–±—Ö–æ–¥–∞ –ª–∏–º–∏—Ç–æ–≤

2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞** (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - Throttling –Ω–∞ `campaign_start` (10 –∑–∞–ø—É—Å–∫–æ–≤/—á–∞—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
   - Throttling –Ω–∞ `send_test_email` (5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∏—Å–µ–º/—á–∞—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
   - –õ–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

3. **Audit trail** (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–º–ø–∞–Ω–∏–∏ (—É–∂–µ –µ—Å—Ç—å —á–µ—Ä–µ–∑ log_event –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö)
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ defer —Å –ø—Ä–∏—á–∏–Ω–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º

## 5. üî• –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï –î–õ–Ø –ê–†–•–ò–¢–ï–ö–¢–û–†–ê

–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –ø—Ä–æ—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ–∫—É—â–µ–π production-–Ω–∞–≥—Ä—É–∑–∫–µ. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–æ–±–ª—é–¥–µ–Ω—ã, race conditions —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, –ª–∏–º–∏—Ç—ã –∞—Ç–æ–º–∞—Ä–Ω—ã. –ü–æ—Å–ª–µ enterprise-–¥–æ—Ä–∞–±–æ—Ç–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ structured logging –≤ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö (defer, SMTP errors, stuck campaigns), –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–≤–æ—Ç—ã –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º, circuit breaker –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–∏—Å—à–∏—Ö –∫–∞–º–ø–∞–Ω–∏–π. –û—Å—Ç–∞—é—Ç—Å—è –ø—Ä–æ–±–µ–ª—ã: –Ω–µ–ø–æ–ª–Ω–æ–µ structured logging (—É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–ª—è –º–µ—Ç—Ä–∏–∫), –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö playbook, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ throttling –Ω–∞ API, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–º–µ—Ä –∫–∞–º–ø–∞–Ω–∏–π. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞: CampaignQueue.priority –≥–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤, rate limiter –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω. –ü—Ä–∏ 10√ó —Ä–æ—Å—Ç–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è batch processing –∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—á–µ—Ä–µ–¥–µ–π. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –∫–∞–∫ enterprise-CRM —Å —É—á—ë—Ç–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è observability (–¥–æ–±–∞–≤–∏—Ç—å logging –≤ —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∫–∏) –∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö playbook. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–∏—Ç—å structured logging –∏ —Å–æ–∑–¥–∞—Ç—å playbook ‚Äî —ç—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞.
