# –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –†–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ (Dashboard)

**–î–∞—Ç–∞:** 2026-01-17  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## 1. –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 1.1. –¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª** (`/`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
- ‚úÖ –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (`tasks_today`)
- ‚úÖ –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (`overdue`)
- ‚úÖ –ó–∞–¥–∞—á–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é (`tasks_week`)
- ‚úÖ –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (`tasks_new`)
- ‚úÖ –î–æ–≥–æ–≤–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–æ—Ä–æ –∏—Å—Ç–µ–∫–∞—é—Ç (`contracts_soon`)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ –ø–æ —Ö–æ–ª–æ–¥–Ω—ã–º –∑–≤–æ–Ω–∫–∞–º (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π)

### 1.2. –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - 5 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î (tasks_today, overdue, tasks_week, tasks_new, contracts_soon)
   - –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ)

2. **UX:**
   - –°—Ç–∞—Ç–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–Ω–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
   - –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/–ø–æ–∏—Å–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
   - –ù–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (–≤—Å–µ –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π layout)
   - –ù–µ—Ç –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (quick actions)

3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:**
   - –ù–µ—Ç –º–µ—Ç—Ä–∏–∫/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ù–µ—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤/–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π
   - –ù–µ—Ç —Ç—Ä–µ–Ω–¥–æ–≤

4. **–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å:**
   - Grid layout –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
   - –ù–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤

---

## 2. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (P0)

### 2.1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 2.1.1. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 5 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î.

**–†–µ—à–µ–Ω–∏–µ:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∑–∞–¥–∞—á –≤ –æ–¥–∏–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Q` –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.

```python
# –í–º–µ—Å—Ç–æ:
tasks_today = Task.objects.filter(...)
overdue = Task.objects.filter(...)
tasks_week = Task.objects.filter(...)
tasks_new = Task.objects.filter(...)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
from django.db.models import Q, Case, When, IntegerField

all_tasks = Task.objects.filter(assigned_to=user).exclude(
    status__in=[Task.Status.DONE, Task.Status.CANCELLED]
).select_related("company", "created_by").annotate(
    task_category=Case(
        When(due_at__lt=now, then=1),  # overdue
        When(due_at__gte=today_start, due_at__lt=tomorrow_start, then=2),  # today
        When(due_at__gte=week_start, due_at__lt=week_end, then=3),  # week
        When(status=Task.Status.NEW, then=4),  # new
        default=0,
        output_field=IntegerField()
    )
)

# –ó–∞—Ç–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç—å –≤ Python:
tasks_today = [t for t in all_tasks if t.task_category == 2]
overdue = [t for t in all_tasks if t.task_category == 1]
# –∏ —Ç.–¥.
```

**–í—ã–≥–æ–¥–∞:** –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å 4 –¥–æ 1 –¥–ª—è –∑–∞–¥–∞—á.

#### 2.1.2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** Dashboard –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Django cache framework —Å TTL 1-2 –º–∏–Ω—É—Ç—ã.

```python
from django.core.cache import cache
from django.utils.hashlib import md5

@login_required
def dashboard(request: HttpRequest) -> HttpResponse:
    user: User = request.user
    cache_key = f"dashboard_{user.id}_{timezone.now().date()}"
    cached_data = cache.get(cache_key)
    
    if cached_data:
        return render(request, "ui/dashboard.html", cached_data)
    
    # ... –≤—ã—á–∏—Å–ª–µ–Ω–∏—è ...
    
    context = {
        "now": now,
        "local_now": local_now,
        "tasks_new": list(tasks_new),  # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º QuerySet –≤ list –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
        "tasks_today": list(tasks_today),
        "overdue": list(overdue),
        "tasks_week": list(tasks_week),
        "contracts_soon": contracts_soon,
        "can_view_cold_call_reports": _can_view_cold_call_reports(user),
    }
    
    cache.set(cache_key, context, timeout=120)  # 2 –º–∏–Ω—É—Ç—ã
    return render(request, "ui/dashboard.html", context)
```

**–í—ã–≥–æ–¥–∞:** –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î –Ω–∞ 80-90% –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

#### 2.1.3. –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞

**–†–µ—à–µ–Ω–∏–µ:** –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á/–¥–æ–≥–æ–≤–æ—Ä–æ–≤.

```python
# –í signals.py –∏–ª–∏ –≤ –º–µ—Ç–æ–¥–∞—Ö save() –º–æ–¥–µ–ª–µ–π:
from django.core.cache import cache
from django.db.models.signals import post_save, post_delete

def invalidate_dashboard_cache(sender, instance, **kwargs):
    if hasattr(instance, 'assigned_to') and instance.assigned_to:
        cache_key = f"dashboard_{instance.assigned_to.id}_*"
        cache.delete_pattern(cache_key)  # –¢—Ä–µ–±—É–µ—Ç django-redis

post_save.connect(invalidate_dashboard_cache, sender=Task)
post_delete.connect(invalidate_dashboard_cache, sender=Task)
```

---

### 2.2. AJAX –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Live Updates)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ä—É—á–Ω—É—é.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å polling –∏–ª–∏ WebSockets –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

```javascript
// –í dashboard.html –¥–æ–±–∞–≤–∏—Ç—å:
<script>
  (function(){
    let lastUpdate = Date.now();
    async function pollDashboard(){
      try{
        const res = await fetch('/api/dashboard/poll/?since=' + lastUpdate, {
          credentials: 'same-origin'
        });
        const data = await res.json();
        if(data.updated){
          // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
          updateTasksToday(data.tasks_today);
          updateOverdue(data.overdue);
          // –∏ —Ç.–¥.
          lastUpdate = Date.now();
        }
      }catch(e){
        console.error('Dashboard poll error:', e);
      }
    }
    
    // Polling –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
    setInterval(pollDashboard, 30000);
  })();
</script>
```

**Backend endpoint:**

```python
@login_required
def dashboard_poll(request: HttpRequest) -> JsonResponse:
    since = request.GET.get('since')
    if since:
        since_dt = datetime.fromtimestamp(int(since) / 1000, tz=timezone.utc)
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–∏ –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ since_dt
        has_changes = (
            Task.objects.filter(assigned_to=request.user, updated_at__gt=since_dt).exists() or
            Company.objects.filter(responsible=request.user, updated_at__gt=since_dt).exists()
        )
        if not has_changes:
            return JsonResponse({"updated": False})
    
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    # ... (–ª–æ–≥–∏–∫–∞ –∫–∞–∫ –≤ dashboard, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º JSON)
    return JsonResponse({
        "updated": True,
        "tasks_today": [...],
        "overdue": [...],
        # –∏ —Ç.–¥.
    })
```

**–í—ã–≥–æ–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

## 3. –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (P1)

### 3.1. –í–∏–¥–∂–µ—Ç—ã –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

#### 3.1.1. Drag & Drop –≤–∏–¥–∂–µ—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å layout dashboard.

```python
# –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ dashboard:
class DashboardWidget(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    widget_type = models.CharField(max_length=32)  # 'tasks_today', 'overdue', etc.
    position = models.IntegerField()  # –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    visible = models.BooleanField(default=True)
    settings = models.JSONField(default=dict)  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞
```

**Frontend:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è drag & drop (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sortablejs`).

#### 3.1.2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã

- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–≤–æ–Ω–∫–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–æ–Ω–∫–æ–≤, –¥–æ–∑–≤–æ–Ω—è–µ–º–æ—Å—Ç—å
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é:** –ì—Ä–∞—Ñ–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- **–ë–ª–∏–∂–∞–π—à–∏–µ –≤—Å—Ç—Ä–µ—á–∏:** –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥–∞–∂:** –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤/–†–û–ü

---

### 3.2. –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (Quick Actions)

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ dashboard.

```html
<!-- –í dashboard.html -->
<div class="quick-actions">
  <button class="btn btn-primary" onclick="createTask()">+ –ó–∞–¥–∞—á–∞</button>
  <button class="btn btn-primary" onclick="createCompany()">+ –ö–æ–º–ø–∞–Ω–∏—è</button>
  <button class="btn btn-outline" onclick="createCall()">üìû –ó–≤–æ–Ω–æ–∫</button>
  <button class="btn btn-outline" onclick="createNote()">üìù –ó–∞–º–µ—Ç–∫–∞</button>
</div>
```

**–í—ã–≥–æ–¥–∞:** –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

### 3.3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏.

```html
<!-- –î–ª—è –∑–∞–¥–∞—á –Ω–∞ —Å–µ–≥–æ–¥–Ω—è -->
<div class="section-header">
  <h3>–ù–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
  <select id="filter-tasks-today" onchange="filterTasksToday(this.value)">
    <option value="all">–í—Å–µ</option>
    <option value="new">–¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ</option>
    <option value="in_progress">–í —Ä–∞–±–æ—Ç–µ</option>
  </select>
</div>
```

---

### 3.4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

#### 3.4.1. –í–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏.

```python
# –í dashboard view:
metrics = {
    "tasks_completed_today": Task.objects.filter(
        assigned_to=user,
        status=Task.Status.DONE,
        completed_at__date=today_date
    ).count(),
    "tasks_overdue_count": Task.objects.filter(
        assigned_to=user,
        due_at__lt=now
    ).exclude(status__in=[Task.Status.DONE, Task.Status.CANCELLED]).count(),
    "calls_today": CallRequest.objects.filter(
        user=user,
        created_at__date=today_date
    ).count(),
    # –∏ —Ç.–¥.
}
```

**Frontend:** –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å –∏–∫–æ–Ω–∫–∞–º–∏.

#### 3.4.2. –ì—Ä–∞—Ñ–∏–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Chart.js).

```html
<canvas id="tasksChart"></canvas>
<script>
  const ctx = document.getElementById('tasksChart');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'],
      datasets: [{
        label: '–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á',
        data: [12, 19, 15, 20, 18, 10, 8],
        borderColor: 'rgb(1, 148, 142)',
      }]
    }
  });
</script>
```

---

## 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (P2)

### 4.1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WebSockets (Django Channels) –∏–ª–∏ Server-Sent Events (SSE).

```python
# channels/routing.py
from channels.routing import URLRouter
from django.urls import path

websocket_urlpatterns = [
    path('ws/dashboard/<int:user_id>/', DashboardConsumer.as_asgi()),
]

# channels/consumers.py
class DashboardConsumer(AsyncWebsocketConsumer):
    async def connect(self):
        self.user_id = self.scope['url_route']['kwargs']['user_id']
        await self.channel_layer.group_add(
            f'dashboard_{self.user_id}',
            self.channel_name
        )
        await self.accept()
    
    async def dashboard_update(self, event):
        await self.send(text_data=json.dumps(event['data']))
```

**–í—ã–≥–æ–¥–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ dashboard –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

---

### 4.2. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏.

```python
@login_required
def dashboard_export_tasks(request: HttpRequest) -> HttpResponse:
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º CSV/Excel —Å –∑–∞–¥–∞—á–∞–º–∏
    # ...
    return HttpResponse(content, content_type='text/csv')
```

---

### 4.3. –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã.

```javascript
// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
localStorage.setItem('theme', 'dark');
document.documentElement.classList.add('dark');
```

---

### 4.4. –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π grid (1 –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
- Swipe-–∂–µ—Å—Ç—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
- Bottom navigation –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## 5. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1 (1-2 –Ω–µ–¥–µ–ª–∏): P0 —É–ª—É—á—à–µ–Ω–∏—è
1. ‚úÖ –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
2. ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
3. ‚úÖ –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞
4. ‚úÖ AJAX polling

### –≠—Ç–∞–ø 2 (2-3 –Ω–µ–¥–µ–ª–∏): P1 —É–ª—É—á—à–µ–Ω–∏—è
1. ‚úÖ –í–∏–¥–∂–µ—Ç—ã –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
2. ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
3. ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
4. ‚úÖ –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –≠—Ç–∞–ø 3 (3-4 –Ω–µ–¥–µ–ª–∏): P2 —É–ª—É—á—à–µ–Ω–∏—è
1. ‚úÖ WebSockets/SSE
2. ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
4. ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

## 6. –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ dashboard < 500ms (—Å –∫—ç—à–µ–º)
- **UX:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–≤–æ–¥—è—Ç –Ω–∞ dashboard > 30% –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
- **–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å:** NPS > 8/10 –¥–ª—è dashboard
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** > 80% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –≤–∏–¥–∂–µ—Ç—ã

---

## 7. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### 7.1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `django-redis` ‚Äî –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- `channels` ‚Äî –¥–ª—è WebSockets (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `chart.js` ‚Äî –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- `sortablejs` ‚Äî –¥–ª—è drag & drop

### 7.2. –ú–∏–≥—Ä–∞—Ü–∏–∏

```python
# migrations/XXXX_add_dashboard_widgets.py
class Migration(migrations.Migration):
    operations = [
        migrations.CreateModel(
            name='DashboardWidget',
            fields=[
                ('id', models.AutoField(...)),
                ('widget_type', models.CharField(max_length=32)),
                ('position', models.IntegerField()),
                ('visible', models.BooleanField(default=True)),
                ('settings', models.JSONField(default=dict)),
                ('user', models.ForeignKey(...)),
            ],
        ),
    ]
```

---

## 8. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### 8.1. –†–∏—Å–∫–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –ö–æ—Ä–æ—Ç–∫–∏–π TTL (1-2 –º–∏–Ω—É—Ç—ã) + –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

2. **WebSockets —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å polling –∫–∞–∫ fallback, –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –•—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ JSON, –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å widget_type

---

## 9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç dashboard –∏–∑ —Å—Ç–∞—Ç–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–≤—ã—Å–∏—Ç –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º–æ–π.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∞—á–∞—Ç—å —Å P0 —É–ª—É—á—à–µ–Ω–∏–π (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ AJAX), –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ P1 (UX –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞).
