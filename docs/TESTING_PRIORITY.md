# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2026-01-17  
**–í–µ—Ä—Å–∏—è:** 1.1  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ P0 —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

---

## üö® –ö–†–ò–¢–ò–ß–ù–û (P0) ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

### 1. Magic Link Authentication (–ó–∞–¥–∞—á–∞ 2)

**–î–æ–∫—É–º–µ–Ω—Ç:** `docs/MAGIC_LINK_AUTH.md`  
**–¢–µ—Å—Ç—ã:** `docs/SERVER_TESTING_CHECKLIST.md` (—Ä–∞–∑–¥–µ–ª 2)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–≤–µ –≤–∫–ª–∞–¥–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–∫–ª—é—á/—Å—Å—ã–ª–∫–∞)
- ‚úÖ –í—Ö–æ–¥ –ø–æ –∫–ª—é—á—É –¥–æ—Å—Ç—É–ø–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å
- ‚úÖ –í—Ö–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ –ø–∞—Ä–æ–ª—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–µ-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –ø–æ –ø–∞—Ä–æ–ª—é
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∫–ª—é—á–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
docker-compose exec web python manage.py test accounts.tests_magic_link -v 2
```

**–í—Ä–µ–º—è:** ~15 –º–∏–Ω—É—Ç

---

### 2. –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–º–ø–∞–Ω–∏–π (–ó–∞–¥–∞—á–∞ 1)

**–î–æ–∫—É–º–µ–Ω—Ç:** `docs/COMPANY_TRANSFER_RULES.md`  
**–¢–µ—Å—Ç—ã:** `docs/SERVER_TESTING_CHECKLIST.md` (—Ä–∞–∑–¥–µ–ª 1)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –í—Å–µ unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (15 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –û–¥–∏–Ω–æ—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ú–∞—Å—Å–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∞ disabled –ø—Ä–∏ –Ω–µ—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö
- ‚úÖ –ü–æ–ª—É—á–∞—Ç–µ–ª–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º
- ‚úÖ GROUP_MANAGER –∏ ADMIN –Ω–µ –≤ —Å–ø–∏—Å–∫–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
docker-compose exec web python manage.py test companies.tests_transfer -v 2
```

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç

---

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ó–∞–¥–∞—á–∞ 4)

**–î–æ–∫—É–º–µ–Ω—Ç:** `docs/CRITICAL_SECURITY_FIXES.md`  
**–¢–µ—Å—Ç—ã:** `docs/SERVER_TESTING_CHECKLIST.md` (—Ä–∞–∑–¥–µ–ª 3)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ù–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
docker-compose logs web | grep -i "phone" | tail -20
```

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û (P1) ‚Äî –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 4. Call Analytics (Smoke-—Ç–µ—Å—Ç—ã)

**–î–æ–∫—É–º–µ–Ω—Ç:** `docs/STAGE_6_SMOKE_CHECKLIST.md`  
**–¢–µ—Å—Ç—ã:** `docs/SERVER_TESTING_CHECKLIST.md` (—Ä–∞–∑–¥–µ–ª 4)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (legacy/extended payload)
- ‚úÖ Graceful –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö enum
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- ‚úÖ Template safety

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
docker-compose exec web python manage.py test phonebridge.tests.UpdateCallInfoViewTest -v 2
docker-compose exec web python manage.py test phonebridge.tests_stats -v 2
docker-compose exec web python manage.py test ui.tests.test_calls_stats_view -v 2
```

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç

---

## üìã –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û (P2) ‚Äî –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑–∂–µ

### 5. –û–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
docker-compose exec web python manage.py showmigrations
docker-compose exec web python manage.py check --deploy
curl -I https://crm.groupprofi.ru/
```

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **`docs/SERVER_TESTING_CHECKLIST.md`** ‚Äî –ø–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. **`docs/MAGIC_LINK_AUTH.md`** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ magic link authentication
3. **`docs/COMPANY_TRANSFER_RULES.md`** ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –∫–æ–º–ø–∞–Ω–∏–π
4. **`docs/CRITICAL_SECURITY_FIXES.md`** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **`docs/STAGE_6_SMOKE_CHECKLIST.md`** ‚Äî smoke-—Ç–µ—Å—Ç—ã –¥–ª—è call analytics

---

## ‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **P0 (–∫—Ä–∏—Ç–∏—á–Ω–æ):** ~30 –º–∏–Ω—É—Ç
- **P1 (–≤–∞–∂–Ω–æ):** ~10 –º–∏–Ω—É—Ç
- **P2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** ~5 –º–∏–Ω—É—Ç

**–ò—Ç–æ–≥–æ:** ~45 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –º–∞–ª–æ –≤—Ä–µ–º–µ–Ω–∏)

–ï—Å–ª–∏ –≤—Ä–µ–º–µ–Ω–∏ –º–∞–ª–æ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ P0 —Ç–µ—Å—Ç—ã:

1. Magic Link: unit-—Ç–µ—Å—Ç—ã + —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI (15 –º–∏–Ω)
2. –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–º–ø–∞–Ω–∏–π: unit-—Ç–µ—Å—Ç—ã (5 –º–∏–Ω)
3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (5 –º–∏–Ω)

**–ò—Ç–æ–≥–æ:** ~25 –º–∏–Ω—É—Ç
